---
import BaseLayout from '../../layouts/BaseLayout.astro';
import { pixelArt } from '../../data/pixelArt';

export function getStaticPaths() {
  return pixelArt.map( ({ slug, title, src, description }) => {
    return {
      params: { slug },
      props: { title, src, description }
    }
  });
}

const { title, src, description } = Astro.props;


const pageTitle = title;
---
<BaseLayout pageTitle={pageTitle}>
  <article class="mx-auto max-w-3xl py-8">
    <header class="mb-6">
      <h2 class="text-2xl font-semibold">{title}</h2>
    </header>
    <div class="flex justify-center">
      <div class="overflow-hidden rounded-md border border-zinc-200 bg-white dark:border-zinc-800 dark:bg-zinc-800 transition-colors">
        <img
          src={src}
          alt={title}
          width={320}
          height={180}
          class="h-[180px] w-[320px] [image-rendering:pixelated] object-contain"
          loading="eager"
          decoding="async"
        />
      </div>
    </div>
    {description && (
      <p class="mt-4 text-center text-sm text-zinc-600 dark:text-zinc-300">{description}</p>
    )}
    <div class="mt-6 text-center">
      <a href="/gallery" class="text-sm underline underline-offset-4 decoration-2">Back to Gallery</a>
    </div>
  </article>
</BaseLayout>
